<!doctype html><html lang=en class="js csstransforms3d"><head><meta name=google-site-verification content="yq2Ib3doJVHVlEW2wtHap5WY54JhS2CCvI40y30F0FI"><meta charset=utf-8><meta name=color-scheme content="dark light"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.101.0"><meta name=description content="Using cert-manager to automatically issue new certificates"><meta name=author content="Toni Schmidbauer & Thomas Jungbauer"><meta name=keywords content="oc,OpenShift,OCP,SSL,Certificates,Cert Manager"><link rel=canonical href=https://blog.stderr.at/openshift/2023-16-02-ssl-certificate-management/><link rel=icon href=/images/favicon.ico type=image/png><link rel=apple-touch-icon sizes=152x152 href=/images/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon-180x180.png><link rel=apple-touch-icon sizes=128x128 href=/images/apple-touch-icon-128x128.png><link rel=apple-touch-icon sizes=144x144 href=/images/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=114x114 href=/images/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=72x72 href=/images/apple-touch-icon-72x72.png><link rel=apple-touch-icon href=/images/apple-touch-icon-57x57.png><link rel="shortcut icon" href=/images/favicon.ico><link rel=apple-touch-icon sizes=57x57 href=/images/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/images/apple-icon-60x60.png><link rel=apple-touch-icon sizes=76x76 href=/images/apple-icon-76x76.png><link rel=apple-touch-icon sizes=120x120 href=/images/apple-icon-120x120.png><link rel=icon type=image/png sizes=192x192 href=/images/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/images/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><title>SSL Certificate Management for OpenShift on AWS :: TechBlog about OpenShift/Ansible/Satellite and much more</title><link rel=manifest href=/manifest.json><meta name=theme-color content="#317EFB"><link href=/css/nucleus.min.css?1689581159 rel=stylesheet><link href=/css/fontawesome-all.min.css?1689581159 rel=stylesheet><link href=/css/font-awesome-animation.min.css?1689581159 rel=stylesheet><link href=/css/hybrid.css?1689581159 rel=stylesheet><link href=/css/featherlight.min.css?1689581159 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1689581159 rel=stylesheet><link href=/css/auto-complete.css?1689581159 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1689581159 rel=stylesheet><link href=/css/theme.min.css?1689581159 rel=stylesheet><link href=/css/hugo-theme.css?1689581159 rel=stylesheet><link href=/css/theme-yaub.css?1689581159 rel=stylesheet><script src=/js/jquery-3.6.0.min.js?1689581159></script>
<script src=/js/jquery.waypoints.min.js?1689581159></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/openshift/2023-16-02-ssl-certificate-management/><button onclick=scrollTopAnimated() id=myBtn class="top-btn button fa fa-arrow-up" title="Go to top"></button>
<span class=read-progress></span><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><p class="fa fa-cloud-upload-alt faa-float animated"></p><span class=text>YAUB</span><p class=logoarea><span class="text small">Yet another Useless Blog</span></p></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1689581159></script>
<script type=text/javascript src=/js/auto-complete.js?1689581159></script>
<script type=text/javascript>var baseurl="https://blog.stderr.at/"</script><script type=text/javascript src=/js/search.js?1689581159></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/openshift/ title=OpenShift class="dd-item
parent"><a href=/openshift/>OpenShift</a><ul><li data-nav-id=/openshift/2023-03-20-operator-installation-with-argocd/ title="Operator installation with Argo CD" class=dd-item><a href=/openshift/2023-03-20-operator-installation-with-argocd/>Operator installation with Argo CD</a></li><li data-nav-id=/openshift/2023-16-02-ssl-certificate-management/ title="SSL Certificate Management for OpenShift on AWS" class="dd-item active"><a href=/openshift/2023-16-02-ssl-certificate-management/>SSL Certificate Management for OpenShift on AWS</a></li><li data-nav-id=/openshift/2022-11-04-argocd-and-serversideapply/ title="Using ServerSideApply with ArgoCD" class=dd-item><a href=/openshift/2022-11-04-argocd-and-serversideapply/>Using ServerSideApply with ArgoCD</a></li><li data-nav-id=/openshift/2022-08-16-hashicorp-vault/ title="Secrets Management - Vault on OpenShift" class=dd-item><a href=/openshift/2022-08-16-hashicorp-vault/>Secrets Management - Vault on OpenShift</a></li><li data-nav-id=/openshift/2022-04-22-multi-cloud-gateway/ title="Overview of Red Hat's Multi Cloud Gateway (Noobaa)" class=dd-item><a href=/openshift/2022-04-22-multi-cloud-gateway/>Overview of Red Hat's Multi Cloud Gateway (Noobaa)</a></li><li data-nav-id=/openshift/2021-09-25-sealed_secrets/ title="Secure your secrets with Sealed Secrets" class=dd-item><a href=/openshift/2021-09-25-sealed_secrets/>Secure your secrets with Sealed Secrets</a></li><li data-nav-id=/openshift/2021-02-27-understanding-block-devices/ title="Understanding RWO block device handling in OpenShift" class=dd-item><a href=/openshift/2021-02-27-understanding-block-devices/>Understanding RWO block device handling in OpenShift</a></li><li data-nav-id=/openshift/2021-01-27-writingoperatoransible/ title="Writing Operator using Ansible" class=dd-item><a href=/openshift/2021-01-27-writingoperatoransible/>Writing Operator using Ansible</a></li><li data-nav-id=/openshift/2020-12-10-thanos-vs-thanos/ title="Thanos Querier vs Thanos Querier" class=dd-item><a href=/openshift/2020-12-10-thanos-vs-thanos/>Thanos Querier vs Thanos Querier</a></li><li data-nav-id=/openshift/2020-08-06-argocd/ title="GitOps - Argo CD" class=dd-item><a href=/openshift/2020-08-06-argocd/>GitOps - Argo CD</a></li><li data-nav-id=/openshift/2020-04-16-tekton/ title="OpenShift Pipelines - Tekton Introduction" class=dd-item><a href=/openshift/2020-04-16-tekton/>OpenShift Pipelines - Tekton Introduction</a></li><li data-nav-id=/openshift/2020-04-01-oc-commands/ title="Helpful oc / kubectl commands" class=dd-item><a href=/openshift/2020-04-01-oc-commands/>Helpful oc / kubectl commands</a></li></ul></li><li data-nav-id=/day-2/ title="OpenShift Day-2" class=dd-item><a href=/day-2/>OpenShift Day-2</a><ul><li data-nav-id=/day-2/etcd/ title=etcd class=dd-item><a href=/day-2/etcd/>etcd</a><ul><li data-nav-id=/day-2/etcd/2022-01-29-automatedetcdbackup/ title="Automated ETCD Backup" class=dd-item><a href=/day-2/etcd/2022-01-29-automatedetcdbackup/>Automated ETCD Backup</a></li></ul></li><li data-nav-id=/day-2/labels_environmets/ title="Labels & Environments" class=dd-item><a href=/day-2/labels_environmets/>Labels & Environments</a><ul><li data-nav-id=/day-2/labels_environmets/2022-01-12-creatingenvironment/ title="Working with Environments" class=dd-item><a href=/day-2/labels_environmets/2022-01-12-creatingenvironment/>Working with Environments</a></li></ul></li><li data-nav-id=/day-2/pod-placement/ title="Pod Placement" class=dd-item><a href=/day-2/pod-placement/>Pod Placement</a><ul><li data-nav-id=/day-2/pod-placement/2021-08-26-podplacement-intro/ title=Introduction class=dd-item><a href=/day-2/pod-placement/2021-08-26-podplacement-intro/>Introduction</a></li><li data-nav-id=/day-2/pod-placement/2021-08-29-node-affinity/ title="Node Affinity" class=dd-item><a href=/day-2/pod-placement/2021-08-29-node-affinity/>Node Affinity</a></li><li data-nav-id=/day-2/pod-placement/2021-08-27-podplacement/ title=NodeSelector class=dd-item><a href=/day-2/pod-placement/2021-08-27-podplacement/>NodeSelector</a></li><li data-nav-id=/day-2/pod-placement/2021-08-28-affinity/ title="Pod Affinity/Anti-Affinity" class=dd-item><a href=/day-2/pod-placement/2021-08-28-affinity/>Pod Affinity/Anti-Affinity</a></li><li data-nav-id=/day-2/pod-placement/2021-08-30-taints/ title="Taints and Tolerations" class=dd-item><a href=/day-2/pod-placement/2021-08-30-taints/>Taints and Tolerations</a></li><li data-nav-id=/day-2/pod-placement/2021-08-31-topologyspreadcontraints/ title="Topology Spread Constraints" class=dd-item><a href=/day-2/pod-placement/2021-08-31-topologyspreadcontraints/>Topology Spread Constraints</a></li><li data-nav-id=/day-2/pod-placement/2021-09-01-descheduler/ title="Using Descheduler" class=dd-item><a href=/day-2/pod-placement/2021-09-01-descheduler/>Using Descheduler</a></li></ul></li></ul></li><li data-nav-id=/securesupplychain/ title="Secure Supply Chain" class=dd-item><a href=/securesupplychain/>Secure Supply Chain</a><ul><li data-nav-id=/securesupplychain/2023-06-15-securesupplychain-intro/ title="Introduction to a Secure Supply Chain" class=dd-item><a href=/securesupplychain/2023-06-15-securesupplychain-intro/>Introduction to a Secure Supply Chain</a></li><li data-nav-id=/securesupplychain/2023-06-16-securesupplychain-step1/ title="Step 1 - Listen to Events" class=dd-item><a href=/securesupplychain/2023-06-16-securesupplychain-step1/>Step 1 - Listen to Events</a></li><li data-nav-id=/securesupplychain/2023-06-17-securesupplychain-step2/ title="Step 2 - Pipelines" class=dd-item><a href=/securesupplychain/2023-06-17-securesupplychain-step2/>Step 2 - Pipelines</a></li><li data-nav-id=/securesupplychain/2023-06-18-securesupplychain-step3/ title="Step 3 - SonarQube" class=dd-item><a href=/securesupplychain/2023-06-18-securesupplychain-step3/>Step 3 - SonarQube</a></li><li data-nav-id=/securesupplychain/2023-06-19-securesupplychain-step4/ title="Step 4 - Verify Git Commit" class=dd-item><a href=/securesupplychain/2023-06-19-securesupplychain-step4/>Step 4 - Verify Git Commit</a></li><li data-nav-id=/securesupplychain/2023-06-20-securesupplychain-step5/ title="Step 5 - Build and Sign Image" class=dd-item><a href=/securesupplychain/2023-06-20-securesupplychain-step5/>Step 5 - Build and Sign Image</a></li><li data-nav-id=/securesupplychain/2023-06-21-securesupplychain-step6/ title="Step 6 - Scanning with ACS" class=dd-item><a href=/securesupplychain/2023-06-21-securesupplychain-step6/>Step 6 - Scanning with ACS</a></li><li data-nav-id=/securesupplychain/2023-06-22-securesupplychain-step7/ title="Step 7 - Generating a SBOM" class=dd-item><a href=/securesupplychain/2023-06-22-securesupplychain-step7/>Step 7 - Generating a SBOM</a></li><li data-nav-id=/securesupplychain/2023-06-23-securesupplychain-step8/ title="Step 8 - Updating Kubernetes Manifests" class=dd-item><a href=/securesupplychain/2023-06-23-securesupplychain-step8/>Step 8 - Updating Kubernetes Manifests</a></li><li data-nav-id=/securesupplychain/2023-06-24-securesupplychain-step9/ title="Step 9 - Linting Kubernetes Manifests" class=dd-item><a href=/securesupplychain/2023-06-24-securesupplychain-step9/>Step 9 - Linting Kubernetes Manifests</a></li><li data-nav-id=/securesupplychain/2023-06-25-securesupplychain-step10/ title="Step 10 - The Example Application" class=dd-item><a href=/securesupplychain/2023-06-25-securesupplychain-step10/>Step 10 - The Example Application</a></li><li data-nav-id=/securesupplychain/2023-06-26-securesupplychain-step11/ title="Step 11 - ACS Deployment Check" class=dd-item><a href=/securesupplychain/2023-06-26-securesupplychain-step11/>Step 11 - ACS Deployment Check</a></li><li data-nav-id=/securesupplychain/2023-06-27-securesupplychain-step12/ title="Step 12 - Verify TLog Signature" class=dd-item><a href=/securesupplychain/2023-06-27-securesupplychain-step12/>Step 12 - Verify TLog Signature</a></li><li data-nav-id=/securesupplychain/2023-06-28-securesupplychain-step13/ title="Step 13 - Bring it to Production" class=dd-item><a href=/securesupplychain/2023-06-28-securesupplychain-step13/>Step 13 - Bring it to Production</a></li></ul></li><li data-nav-id=/compliance/ title=Compliance class=dd-item><a href=/compliance/>Compliance</a><ul><li data-nav-id=/compliance/2021/07/oc-compliance-command-line-plugin/ title="oc compliance command line plugin" class=dd-item><a href=/compliance/2021/07/oc-compliance-command-line-plugin/>oc compliance command line plugin</a></li><li data-nav-id=/compliance/2021/07/compliance-operator/ title="Compliance Operator" class=dd-item><a href=/compliance/2021/07/compliance-operator/>Compliance Operator</a></li></ul></li><li data-nav-id=/service-mesh/ title="Service Mesh" class=dd-item><a href=/service-mesh/>Service Mesh</a><ul><li data-nav-id=/service-mesh/2020/05/enable-automatic-route-creation/ title="Enable Automatic Route Creation" class=dd-item><a href=/service-mesh/2020/05/enable-automatic-route-creation/>Enable Automatic Route Creation</a></li><li data-nav-id=/service-mesh/2020/05/authorization-rbac/ title="Authorization (RBAC)" class=dd-item><a href=/service-mesh/2020/05/authorization-rbac/>Authorization (RBAC)</a></li><li data-nav-id=/service-mesh/2020/04/deploy-example-bookinfo-application/ title="Deploy Example Bookinfo Application" class=dd-item><a href=/service-mesh/2020/04/deploy-example-bookinfo-application/>Deploy Example Bookinfo Application</a></li><li data-nav-id=/service-mesh/2020/04/service-mesh-1.1-released/ title="Service Mesh 1.1 released" class=dd-item><a href=/service-mesh/2020/04/service-mesh-1.1-released/>Service Mesh 1.1 released</a></li><li data-nav-id=/service-mesh/2020/04/authentication-jwt/ title="Authentication JWT" class=dd-item><a href=/service-mesh/2020/04/authentication-jwt/>Authentication JWT</a></li><li data-nav-id=/service-mesh/2020/04/mutual-tls-authentication/ title="Mutual TLS Authentication" class=dd-item><a href=/service-mesh/2020/04/mutual-tls-authentication/>Mutual TLS Authentication</a></li><li data-nav-id=/service-mesh/2020/04/fault-injection/ title="Fault Injection" class=dd-item><a href=/service-mesh/2020/04/fault-injection/>Fault Injection</a></li><li data-nav-id=/service-mesh/2020/04/limit-egress/external-traffic/ title="Limit Egress/External Traffic" class=dd-item><a href=/service-mesh/2020/04/limit-egress/external-traffic/>Limit Egress/External Traffic</a></li><li data-nav-id=/service-mesh/2020/04/advanced-routing-example/ title="Advanced Routing Example" class=dd-item><a href=/service-mesh/2020/04/advanced-routing-example/>Advanced Routing Example</a></li><li data-nav-id=/service-mesh/2020/04/routing-example/ title="Routing Example" class=dd-item><a href=/service-mesh/2020/04/routing-example/>Routing Example</a></li><li data-nav-id=/service-mesh/2020/03/ingress-with-custom-domain/ title="Ingress with custom domain" class=dd-item><a href=/service-mesh/2020/03/ingress-with-custom-domain/>Ingress with custom domain</a></li><li data-nav-id=/service-mesh/2020/03/ingress-traffic/ title="Ingress Traffic" class=dd-item><a href=/service-mesh/2020/03/ingress-traffic/>Ingress Traffic</a></li><li data-nav-id=/service-mesh/2020/03/deploy-microservices/ title="Deploy Microservices" class=dd-item><a href=/service-mesh/2020/03/deploy-microservices/>Deploy Microservices</a></li><li data-nav-id=/service-mesh/2020/03/installation/ title=Installation class=dd-item><a href=/service-mesh/2020/03/installation/>Installation</a></li></ul></li><li data-nav-id=/general/ title=General class=dd-item><a href=/general/>General</a><ul><li data-nav-id=/general/2020/05/basic-usage-of-git/ title="Basic usage of git" class=dd-item><a href=/general/2020/05/basic-usage-of-git/>Basic usage of git</a></li><li data-nav-id=/general/2020/04/red-hat-satellite-cheat-sheet/ title="Red Hat Satellite Cheat Sheet" class=dd-item><a href=/general/2020/04/red-hat-satellite-cheat-sheet/>Red Hat Satellite Cheat Sheet</a></li></ul></li><li data-nav-id=/ansible/ title=Ansible class=dd-item><a href=/ansible/>Ansible</a><ul><li data-nav-id=/ansible/2021/11/ansible-style-guide/ title="Ansible Style Guide" class=dd-item><a href=/ansible/2021/11/ansible-style-guide/>Ansible Style Guide</a></li><li data-nav-id=/ansible/2021/10/automation-controller-and-ldap-authentication/ title="Automation Controller and LDAP Authentication" class=dd-item><a href=/ansible/2021/10/automation-controller-and-ldap-authentication/>Automation Controller and LDAP Authentication</a></li><li data-nav-id=/ansible/2021/07/ansible-tower-and-downloading-collections/ title="Ansible Tower and downloading collections" class=dd-item><a href=/ansible/2021/07/ansible-tower-and-downloading-collections/>Ansible Tower and downloading collections</a></li><li data-nav-id=/ansible/2020/04/ansible-azure-resource-manager-example/ title="Ansible - Azure Resource Manager Example" class=dd-item><a href=/ansible/2020/04/ansible-azure-resource-manager-example/>Ansible - Azure Resource Manager Example</a></li><li data-nav-id=/ansible/2020/04/do410-ansible-and-ansible-tower-training-notes/ title="DO410 Ansible and Ansible Tower training notes" class=dd-item><a href=/ansible/2020/04/do410-ansible-and-ansible-tower-training-notes/>DO410 Ansible and Ansible Tower training notes</a></li></ul></li><li data-nav-id=/acs/ title="Advanced Cluster Security" class=dd-item><a href=/acs/>Advanced Cluster Security</a><ul><li data-nav-id=/acs/2021-12-11-acsauth/ title="Advanced Cluster Security - Authentication" class=dd-item><a href=/acs/2021-12-11-acsauth/>Advanced Cluster Security - Authentication</a></li></ul></li><li data-nav-id=/azure/ title=Azure class=dd-item><a href=/azure/>Azure</a><ul><li data-nav-id=/azure/2021-10-29-private-aro/ title="Stumbling into Azure Part II: Setting up a private ARO cluster" class=dd-item><a href=/azure/2021-10-29-private-aro/>Stumbling into Azure Part II: Setting up a private ARO cluster</a></li><li data-nav-id=/azure/2021-10-17-s2s-vpn/ title="Stumbling into Azure Part I: Building a site-to-site VPN tunnel for testing" class=dd-item><a href=/azure/2021-10-17-s2s-vpn/>Stumbling into Azure Part I: Building a site-to-site VPN tunnel for testing</a></li></ul></li><li data-nav-id=/java/ title=Java class=dd-item><a href=/java/>Java</a><ul><li data-nav-id=/java/2022-02-25-jpa-disconnected-entity/ title="Adventures in Java Land: JPA disconnected entities" class=dd-item><a href=/java/2022-02-25-jpa-disconnected-entity/>Adventures in Java Land: JPA disconnected entities</a></li></ul></li><li data-nav-id=/quay/ title=Quay class=dd-item><a href=/quay/>Quay</a><ul><li data-nav-id=/quay/2021-09-07-quay-upgrade-3.4/ title="Stumbling into Quay: Upgrading from 3.3 to 3.4 with the quay-operator" class=dd-item><a href=/quay/2021-09-07-quay-upgrade-3.4/>Stumbling into Quay: Upgrading from 3.3 to 3.4 with the quay-operator</a></li><li data-nav-id=/quay/2020-05-13-quay-tutorial1/ title="Red Hat Quay Registry - Overview and Installation" class=dd-item><a href=/quay/2020-05-13-quay-tutorial1/>Red Hat Quay Registry - Overview and Installation</a></li></ul></li><li data-nav-id=/archive/ title=Archive class=dd-item><a href=/archive/>Archive</a></li><li data-nav-id=/legaldisclosure/ title="Legal Disclosure" class=dd-item><a href=/legaldisclosure/>Legal Disclosure</a></li><li data-nav-id=/rss/ title="RSS Feeds" class=dd-item><a href=/rss/>RSS Feeds</a></li></ul><section id=shortcuts><h3 class=shortcut-title>More</h3><ul><li><a class=padding href=https://charts.stderr.at/><i class='fas fa-book'></i> Helm Charts</a></li><li><a class=padding href=https://www.redhat.com><i class='fab fa-redhat'></i> Red Hat</a></li></ul></section><section id=footer></section></div></nav><section id=body class=post-content><div id=overlay></div><aside id=toc-field class="hidden lg:block tableOfContentContainer"><header id=TableOfContentsHeader>What's on this Page</header><nav id=TableOfContents><ul><li><a href=#_introduction>Introduction</a></li><li><a href=#_prerequisites>Prerequisites</a></li><li><a href=#_deploy_an_example_application>Deploy an Example Application</a></li><li><a href=#_configure_an_aws_user_for_accessing_route_53>Configure an AWS user for accessing Route 53</a></li><li><a href=#_installing_operators_to_openshift>Installing Operators to OpenShift</a></li><li><a href=#_configure_the_cert_manager_operator>Configure the Cert-Manager Operator</a></li><li><a href=#_optional_when_using_private_domains_or_firewalls>OPTIONAL: When using private Domains or Firewalls</a></li><li><a href=#_issue_a_new_certificate>Issue a new certificate</a></li><li><a href=#_create_a_route>Create a Route</a></li><li><a href=#_cluster_default_certificates>Cluster Default Certificates</a><ul><li><a href=#_default_ingresscontroller>Default IngressController</a></li><li><a href=#_api>API</a></li><li><a href=#_patching_api_server_and_ingresscontroller>Patching API Server and IngressController</a></li></ul></li><li><a href=#_summary>Summary</a></li></ul></nav><div id=navigation><a class=nav-prev href=/openshift/2023-03-20-operator-installation-with-argocd/ title="Operator installation with Argo CD"><i class="fa fa-chevron-left"></i></a>
<a class=nav-next href=/openshift/2022-11-04-argocd-and-serversideapply/ title="Using ServerSideApply with ArgoCD" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></aside><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://schema.org/BreadcrumbList><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><span itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a itemprop=item href=/><span itemprop=name>YAUB Yet Another Useless Blog</span><meta itemprop=position content="1"></a></span>> <span itemscope itemprop=itemListElement itemtype=http://schema.org/ListItem><a itemprop=item href=/openshift/><span itemprop=name>OpenShift</span><meta itemprop=position content="2"></a></span>> SSL Certificate Management for OpenShift on AWS</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#_introduction>Introduction</a></li><li><a href=#_prerequisites>Prerequisites</a></li><li><a href=#_deploy_an_example_application>Deploy an Example Application</a></li><li><a href=#_configure_an_aws_user_for_accessing_route_53>Configure an AWS user for accessing Route 53</a></li><li><a href=#_installing_operators_to_openshift>Installing Operators to OpenShift</a></li><li><a href=#_configure_the_cert_manager_operator>Configure the Cert-Manager Operator</a></li><li><a href=#_optional_when_using_private_domains_or_firewalls>OPTIONAL: When using private Domains or Firewalls</a></li><li><a href=#_issue_a_new_certificate>Issue a new certificate</a></li><li><a href=#_create_a_route>Create a Route</a></li><li><a href=#_cluster_default_certificates>Cluster Default Certificates</a><ul><li><a href=#_default_ingresscontroller>Default IngressController</a></li><li><a href=#_api>API</a></li><li><a href=#_patching_api_server_and_ingresscontroller>Patching API Server and IngressController</a></li></ul></li><li><a href=#_summary>Summary</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/oc>oc</a>
<a class=tag-link href=/tags/openshift>OpenShift</a>
<a class=tag-link href=/tags/ocp>OCP</a>
<a class=tag-link href=/tags/ssl>SSL</a>
<a class=tag-link href=/tags/certificates>Certificates</a>
<a class=tag-link href=/tags/cert-manager>Cert Manager</a></div></div><div id=body-inner><h1>SSL Certificate Management for OpenShift on AWS</h1><p class=tracked><time class="f6 mv4 dib tracked" datetime=2023-02-16T00:00:00Z><strong>February 16, 2023</strong></time>
- By:
Thomas Jungbauer
( Lastmod: 2023-02-17 ) - <span class=readtime><strong>6 min read</strong></span></p><div class=paragraph><p>Finally, after a long time on my backlog, I had some time to look into the <strong>Cert-Manager Operator</strong> and use this Operator to automatically issue new SSL certificates.
This article shall show step-by-step how to create a certificate request and use this certificate for a Route and access a service via your Browser.
I will focus on the technical part, using a given domain on AWS Route53.</p></div><div class=sect1><h2 id=_introduction>Introduction</h2><div class=sectionbody><div class=paragraph><p>After a new OpenShift Cluster has been deployed, self-signed certificates are used to access the Routes (for example the console) and the API. Typically, an application is exposed to the world using the schema <em>&lt;app-name>-&lt;namespace-name>.apps.&lt;clusterdomain></em>.</p></div><div class=paragraph><p>We will try to create a certificate for a specific application with a custom domain name and for the cluster domains: *.apps.clusterdomain and api.clusterdomain.</p></div><div class=paragraph><p>The domain is already available and delegated to AWS Route53. As certificate authority, I am using <a href=https://letsencrypt.org/>Let’s Encrypt</a>.</p></div><div class=paragraph><p>We will install 2 operators:</p></div><div class="olist arabic"><ol class=arabic><li><p><strong>Cert Manager</strong>: to issue new certificates.</p></li><li><p><strong>Cert Utils Operator</strong>: injects the certificate into a Route object.</p></li></ol></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>The <strong>Cert Utils Operator</strong> can provide additional information for a certificate and monitors the expiration date. Here we mainly use it to automatically inject Route objects by defining specific annotations.</td></tr></tbody></table></div></div></div><div class=sect1><h2 id=_prerequisites>Prerequisites</h2><div class=sectionbody><div class="olist arabic"><ol class=arabic><li><p>OpenShift cluster with a user that has privileges to install Operators.</p></li><li><p>A domain hosted for example at Route 53</p></li><li><p>Credentials for your Cloud Provider (AWS)</p></li></ol></div></div></div><div class=sect1><h2 id=_deploy_an_example_application>Deploy an Example Application</h2><div class=sectionbody><div class=paragraph><p>Let’s use the super complex demo application <strong>bookimport</strong>.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>oc new-project bookimport
oc apply -f https://raw.githubusercontent.com/tjungbauer/book-import/master-no-pre-post/book-import/deployment.yaml -n bookimport
oc apply -f https://raw.githubusercontent.com/tjungbauer/book-import/master-no-pre-post/book-import/service.yaml -n bookimport
oc expose service book-import -n bookimport
oc get route -n bookimport</code></pre></div></div><div class=paragraph><p>The last command will print you an URL which, copied into the browser, will open our application:</p></div><div class=imageblock><div class=content><img src="/OpenShift/images/cert-manager/bookimport.png?width=480px" alt=Bookimport></div><div class=title>Figure 1. Application Book Import using HTTP</div></div><div class=paragraph><p>As you can see in the address line the connection is not secured (<em>Nicht sicher</em> in German) and my domain is <strong>*.apps.ocp.aws.ispworld.at</strong></p></div></div></div><div class=sect1><h2 id=_configure_an_aws_user_for_accessing_route_53>Configure an AWS user for accessing Route 53</h2><div class=sectionbody><div class=paragraph><p>On AWS I have currently 2 Zones, the public <strong>aws.ispworld.at</strong> and a private zone, created by the OpenShift Installer.</p></div><div class=imageblock><div class=content><img src="/OpenShift/images/cert-manager/hostedzones.png?width=340px" alt=DomainZones></div><div class=title>Figure 2. Domain Zones</div></div><div class=paragraph><p>Before you can manage your domains a user with appropriate privileges must be created.</p></div><div class=paragraph><p>Store the following in the file <code>policy.json</code>. This will allow a user to perform DNS Upgrades.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-json data-lang=json>{
   &#34;Version&#34;: &#34;2012-10-17&#34;,
   &#34;Statement&#34;: [
       {
           &#34;Effect&#34;: &#34;Allow&#34;,
           &#34;Action&#34;: &#34;route53:GetChange&#34;,
           &#34;Resource&#34;: &#34;arn:aws:route53:::change/*&#34;
       },
       {
           &#34;Effect&#34;: &#34;Allow&#34;,
           &#34;Action&#34;: [
               &#34;route53:ChangeResourceRecordSets&#34;,
               &#34;route53:ListResourceRecordSets&#34;
           ],
           &#34;Resource&#34;: &#34;arn:aws:route53:::hostedzone/*&#34;
       },
       {
           &#34;Effect&#34;: &#34;Allow&#34;,
           &#34;Action&#34;: [
               &#34;route53:ListHostedZones&#34;,
               &#34;route53:ListResourceRecordSets&#34;,
               &#34;route53:ListHostedZonesByName&#34;
           ],
           &#34;Resource&#34;: &#34;*&#34;
       }
   ]
}</code></pre></div></div><div class=paragraph><p>Apply the new policy to AWS and store the ARN into a variable:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>aws iam create-policy --policy-name AllowDNSUpdates --policy-document  file://policy.json
export POLICY_ARN=$(aws iam list-policies --query &#39;Policies[?PolicyName==`AllowDNSUpdates`].Arn&#39; --output text)</code></pre></div></div><div class=paragraph><p>Create the user <code>route53-openshift</code> and assign the policy to that user:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>aws iam create-user --user-name route53-openshift
aws iam attach-user-policy --policy-arn $POLICY_ARN --user-name route53-openshift</code></pre></div></div><div class=paragraph><p>Finally, create the access key and store the <strong>AccessKeyId</strong> and the <strong>SecretAccessKey</strong> for later use:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-json data-lang=json>aws iam create-access-key --user-name route53-openshift --output json

{
    &#34;AccessKey&#34;: {
        &#34;UserName&#34;: &#34;route53-openshift&#34;,
        &#34;AccessKeyId&#34;: &#34;XXXXXXXXXXXXXX&#34;,
        &#34;Status&#34;: &#34;Active&#34;,
        &#34;SecretAccessKey&#34;: &#34;XXXXXXXXXXXXXXXXXXX&#34;,
        &#34;CreateDate&#34;: &#34;2023-02-15T12:34:06+00:00&#34;
    }
}</code></pre></div></div></div></div><div class=sect1><h2 id=_installing_operators_to_openshift>Installing Operators to OpenShift</h2><div class=sectionbody><div class=paragraph><p>We will install 2 Operators to our cluster:</p></div><div class="olist arabic"><ol class=arabic><li><p>cert-manager Operator for Red Hat OpenShift</p></li><li><p>Cert Utils Operator</p></li></ol></div><div class=paragraph><p>Simply search both on OLM and install them keeping the default values.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>The Cert Utils Operator is a <strong>Community</strong> Operator.</td></tr></tbody></table></div><div class=imageblock><div class=content><img src="/OpenShift/images/cert-manager/operators.png?width=480px" alt=Operators></div><div class=title>Figure 3. Operators</div></div><div class=paragraph><p>This will install the Cert-Manager into the namespace <strong>openshift-cert-manager</strong></p></div></div></div><div class=sect1><h2 id=_configure_the_cert_manager_operator>Configure the Cert-Manager Operator</h2><div class=sectionbody><div class=paragraph><p>Before we can issue a certificate, we need to create a secret with our AWS SecretAccessKey (see above):</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>oc create secret generic prod-route53-credentials-secret --from-literal secret-access-key=&#34;XXXXXXXXXXXXXXXXXXX&#34; -n openshift-cert-manager</code></pre></div></div><div class=paragraph><p>As next step, we create a <strong>ClusterIssuer</strong> that will be available cluster-wide using <strong>Let’s Encrypt</strong> as certificate authority:</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content>The connection to Let’s Encrypt is using the <strong>productive</strong> API. If you would like to use the staging environment instead, change the server URL to <a href=https://acme-staging-v02.api.letsencrypt.org/directory class=bare>https://acme-staging-v02.api.letsencrypt.org/directory</a></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    email: your@email.com <i class=conum data-value=1></i><b>(1)</b>
    preferredChain: &#39;&#39;
    privateKeySecretRef:
      name: letsencrypt-account-key
    server: &#39;https://acme-v02.api.letsencrypt.org/directory&#39;
    solvers:
      - dns01:
          route53:
            accessKeyID: XXXXXXXXXXXXXX <i class=conum data-value=2></i><b>(2)</b>
            region: eu-central-1 <i class=conum data-value=3></i><b>(3)</b>
            secretAccessKeySecretRef:
              key: secret-access-key
              name: prod-route53-credentials-secret <i class=conum data-value=4></i><b>(4)</b>
        selector:
          dnsZones:
            - your-domain <i class=conum data-value=5></i><b>(5)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Change your email address</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Use the <strong>AccessKeyId</strong> created above</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Using AWS you need to define a region</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>The name of the secret created during the step before</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Your <strong>public</strong> domain, for example aws.ispworld.at.</td></tr></tbody></table></div><div class=paragraph><p>Once created the <strong>ClusterIssuer</strong> should switch to the status "Ready"</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>oc describe clusterissuer letsencrypt-prod

Status:
...
  Conditions:
    Last Transition Time:  2023-02-16T13:54:49Z
    Message:               The ACME account was registered with the ACME server
    Observed Generation:   1
    Reason:                ACMEAccountRegistered
    Status:                True
    Type:                  Ready</code></pre></div></div></div></div><div class=sect1><h2 id=_optional_when_using_private_domains_or_firewalls>OPTIONAL: When using private Domains or Firewalls</h2><div class=sectionbody><div class=paragraph><p>As you can see in one of the images above, I have two domains:</p></div><div class="olist arabic"><ol class=arabic><li><p>aws.ispworld.at</p></li><li><p>ocp.aws.ispworld.at</p></li></ol></div><div class=paragraph><p>The first one is marked as <strong>public</strong>, that means everybody can resolve names. The second one is set to <strong>private</strong> and only define VPCs (in this case the cluster itself) can resolve hostnames.</p></div><div class=paragraph><p>In case of the following error:</p></div><div class=literalblock><div class=content><pre>E0216 15:27:29.513080 1 controller.go:163] cert-manager/challenges &#34;msg&#34;=&#34;re-queuing item due to error processing&#34; &#34;error&#34;=&#34;failed to determine Route 53 hosted zone ID: zone not found in Route 53 for domain _acme-challenge.bookimport.apps.ocp.aws.ispworld.at.&#34; &#34;key&#34;=&#34;bookimport/bookimport-cert-jbmh6-2173685137-2399596362&#34;</pre></div></div><div class=paragraph><p>Add the following into <strong>ClusterManager</strong></p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>oc edit CertManager.operator.openshift.io/cluster

  unsupportedConfigOverrides:
    controller:
      args:
      - --v=2
      - --cluster-resource-namespace=$(POD_NAMESPACE)
      - --leader-election-namespace=kube-system
      - --dns01-recursive-nameservers-only
      - --dns01-recursive-nameservers=ns-362.awsdns-45.com:53,ns-930.awsdns-52.net:53 <i class=conum data-value=1></i><b>(1)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>List of nameserver the PUBLIC domain is hosted on.</td></tr></tbody></table></div><div class=paragraph><p>The Operator will then try to resolve the names using the specified nameserver only.</p></div></div></div><div class=sect1><h2 id=_issue_a_new_certificate>Issue a new certificate</h2><div class=sectionbody><div class=paragraph><p>At this step, we can create a Certificate:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
 name: bookimport-cert <i class=conum data-value=1></i><b>(1)</b>
 namespace: bookimport <i class=conum data-value=2></i><b>(2)</b>
spec:
 dnsNames:
   - bookimport.apps.ocp.aws.ispworld.at <i class=conum data-value=3></i><b>(3)</b>
 issuerRef:
   kind: ClusterIssuer
   name: letsencrypt-prod <i class=conum data-value=4></i><b>(4)</b>
 secretName: bookimport.apps.ocp.aws.ispworld.at-certificate <i class=conum data-value=5></i><b>(5)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Name of the certificate objects</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Application namespace</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>List of domain names</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Issuer that shall be used</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Name of the Secret that will be created and hold the certificate information</td></tr></tbody></table></div></div></div><div class=sect1><h2 id=_create_a_route>Create a Route</h2><div class=sectionbody><div class=paragraph><p>After a while the certificate will be <strong>Ready</strong>:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>oc get certificate/bookimport-cert -n bookimport

NAME              READY   SECRET                                            AGE
bookimport-cert   True    bookimport.apps.ocp.aws.ispworld.at-certificate   87m</code></pre></div></div><div class=paragraph><p>Now we can create a Route object to configure the IngressController. The important part here is the annotation, which will tell the Cert Utils Operator to automatically inject the certificate.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>kind: Route
apiVersion: route.openshift.io/v1
metadata:
  name: bookimport-tls
  namespace: bookimport
  annotations:
    cert-utils-operator.redhat-cop.io/certs-from-secret: bookimport.apps.ocp.aws.ispworld.at-certificate <i class=conum data-value=1></i><b>(1)</b>
spec:
  host: bookimport.apps.ocp.aws.ispworld.at <i class=conum data-value=2></i><b>(2)</b>
  to:
    kind: Service
    name: book-import
    weight: 100
  tls:
    termination: edge
  port:
    targetPort: web
  wildcardPolicy: None</code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Annotation that points to the Secret which stored the certificate. The values of this Secret will be automatically injected into this Route object.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>The hostname for our Route</td></tr></tbody></table></div><div class=paragraph><p>As you can see, the Browser will show no warning when opening the URL.</p></div><div class=imageblock><div class=content><img src="/OpenShift/images/cert-manager/bookimport-tls.png?width=480px" alt=BookimportTLS></div><div class=title>Figure 4. Book Import using HTTPS</div></div></div></div><div class=sect1><h2 id=_cluster_default_certificates>Cluster Default Certificates</h2><div class=sectionbody><div class=paragraph><p>During a cluster deployment, OpenShift will create self-signed certificates for its API and for the default IngressController *.apps.clusterdomain.</p></div><div class=paragraph><p>Usually, we want to change them as well. So why not use the Cert-Manager to issue the appropriate certificates?</p></div><div class=sect2><h3 id=_default_ingresscontroller>Default IngressController</h3><div class=paragraph><p>For the default IngressController I create a certificate request with 2 domain names: the wildcard and the base domain (just to be sure, actually the wildcard should be enough)</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: router-certificate
  namespace: openshift-ingress <i class=conum data-value=1></i><b>(1)</b>
spec:
  dnsNames:
   - apps.ocp.aws.ispworld.at <i class=conum data-value=2></i><b>(2)</b>
   - &#39;*.apps.ocp.aws.ispworld.at&#39;
  issuerRef:
    kind: ClusterIssuer
    name: letsencrypt-prod
  secretName: router-certificate <i class=conum data-value=3></i><b>(3)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>The default IngressController runs in the namespace <strong>openshift-ingress</strong></td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>List of domains</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Name of the Secret that will be created once the Certificate has been approved.</td></tr></tbody></table></div><div class=paragraph><p>After a while, the certificate request should be <strong>Ready</strong> again. In the namespace <em>openshift-ingress</em> a Secret will be available with the name <em>router-certificate</em></p></div></div><div class=sect2><h3 id=_api>API</h3><div class=paragraph><p>For the API URL we do the same. This time it is stored in the namepsace <strong>openshift-config</strong></p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: api-certificate
  namespace: openshift-config
spec:
  dnsNames:
   - api.ocp.aws.ispworld.at
  issuerRef:
    kind: ClusterIssuer
    name: letsencrypt-prod
  secretName: api-certificate</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>It is possible to create one certificate with all required Domainnames. Just be sure that the Secret is available in the appropriate Namespace.</td></tr></tbody></table></div></div><div class=sect2><h3 id=_patching_api_server_and_ingresscontroller>Patching API Server and IngressController</h3><div class=paragraph><p>As a final step we need to patch the IngressController and the API server so they will use the correct Secrets with the officially signed certificates.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash># IngressController
oc patch ingresscontroller default -n openshift-ingress-operator --type=merge --patch=&#39;{&#34;spec&#34;: { &#34;defaultCertificate&#34;: { &#34;name&#34;: &#34;router-certificate&#34; }}}&#39;

# API Server
oc patch apiserver cluster --type=merge -p &#39;{&#34;spec&#34;:{&#34;servingCerts&#34;: {&#34;namedCertificates&#34;: [{&#34;names&#34;: [&#34;api.ocp.aws.ispworld.at&#34;], &#34;servingCertificate&#34;: {&#34;name&#34;: &#34;api-certificate&#34;}}]}}}&#39; <i class=conum data-value=1></i><b>(1)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Be sure to use the correct URL for the API</td></tr></tbody></table></div><div class=paragraph><p>This will restart a bunch of services. Once everything is up and running again (your can watch using the command <code>watch oc get co</code>), the correct certificate will be shown in the browser:</p></div><div class=imageblock><div class=content><img src="/OpenShift/images/cert-manager/console-cert.png?width=340px" alt=UI></div><div class=title>Figure 5. UI</div></div><div class=paragraph><p>or via curl:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-bash data-lang=bash>curl -v https://api.ocp.aws.ispworld.at:6443

* Connected to api.ocp.aws.ispworld.at (13.52.208.31) port 6443
[...]
* Server certificate:
*  subject: CN=api.ocp.aws.ispworld.at
*  start date: Feb 16 15:11:36 2023 GMT
*  expire date: May 17 15:11:35 2023 GMT
*  subjectAltName: host &#34;api.ocp.aws.ispworld.at&#34; matched cert&#39;s &#34;api.ocp.aws.ispworld.at&#34;
*  issuer: C=US; O=Let&#39;s Encrypt; CN=R3
*  SSL certificate verify ok.</code></pre></div></div></div></div></div><div class=sect1><h2 id=_summary>Summary</h2><div class=sectionbody><div class=paragraph><p>Now with these steps, it is possible to issue new Certificates. Of course, there I many more options to configure a certificate. I encourage everybody to read the official documentation of the <a href=https://cert-manager.io/docs/>Cert Manager</a>.</p></div><div class=paragraph><p>Especially, if you are interested in the whole certificate <a href=https://cert-manager.io/docs/concepts/certificate/#certificate-lifecycle>Certificate Lifecycle</a></p></div></div></div><footer class=footline></footer></div></div><div id=navigation-bottom><a class="nav-prev btn btn-default" href=/openshift/2023-03-20-operator-installation-with-argocd/ title="Operator installation with Argo CD"><i class="fa fa-chevron-left btn-bottom-prev"></i><span class=btn-bottom-text>Previous:</span> Operator installation with Argo CD</a>
<a class="nav-next btn btn-default" href=/openshift/2022-11-04-argocd-and-serversideapply/ title="Using ServerSideApply with ArgoCD" style=margin-right:0><i class="fa fa-chevron-right btn-bottom-next"></i><span class=btn-bottom-text>Next:</span> Using ServerSideApply with ArgoCD</a></div><div class=copyright><p>Copyright &copy; 2020 - 2023 Toni Schmidbauer & Thomas Jungbauer</p><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn target=_blank rel="noopener noreferrer">Hugo Learn Theme</i></a> and <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a></p></div></section><script>(function(){$("document").ready(function(){var s=$(".read-progress").waypoint({handler:function(e){e=="down"?($(".read-progress").addClass("position-fixed"),$(".read-progress").css("top",0)):($(".read-progress").removeClass("position-fixed"),$(".read-progress").css("top"))}}),t=$(window).height(),e=$(".post-content").height();$(window).on("scroll",n),$(window).on("resize",function(){t=$(window).height(),e=$(".post-content").height(),n()});function n(){var s=$(this).scrollTop(),o=$(".post-content").offset().top,i=e-(e-(t-(o-s))),n=i/e*100,n=n>100?100:n;$(".read-progress").width(n+"%")}})})()</script><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1689581164></script>
<script src=/js/perfect-scrollbar.min.js?1689581164></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1689581164></script>
<script src=/js/jquery.sticky.js?1689581164></script>
<script src=/js/featherlight.min.js?1689581164></script>
<script src=/js/highlight.pack.js?1689581164></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1689581164></script>
<script src=/js/learn.js?1689581164></script>
<script src=/js/hugo-learn.js?1689581164></script>
<script src=/js/yaub.js?1689581164></script>
<script type=text/javascript>function scrollTopAnimated(){$("html, body").animate({scrollTop:"0"},500)}</script><script>function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}$(".summary-box").click(function(){return window.location=$(this).find("a").attr("href"),!1})</script></body></html>